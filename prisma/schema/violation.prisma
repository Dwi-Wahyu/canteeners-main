model CustomerViolation {
    id          Int                   @id @default(autoincrement())
    timestamp   DateTime
    type        CustomerViolationType
    customer    Customer?             @relation(fields: [customer_id], references: [id])
    customer_id String?
    order_id    String?

    @@map("customer_violations")
}

enum CustomerViolationType {
    ORDER_CANCEL_WITHOUT_PAY
}

enum ReportStatus {
    PENDING
    UNDER_REVIEW
    RESOLVED
    REJECTED
}

enum ReportReason {
    HARASSMENT // Pelecehan di chat
    FRAUD // Penipuan
    SPAM // Pesan mengganggu
    INAPPROPRIATE // Konten/Profil tidak pantas
    OTHER // Alasan lainnya
}

model UserReport {
    id String @id @default(cuid())

    reporter_id String
    reporter    User   @relation("SentReports", fields: [reporter_id], references: [id])

    reported_id   String
    reported_user User   @relation("ReceivedReports", fields: [reported_id], references: [id])

    category    ReportReason
    description String       @db.Text
    proof_url   String?

    status     ReportStatus @default(PENDING)
    admin_note String?      @db.Text // Catatan admin setelah review

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    @@map("user_reports")
}
